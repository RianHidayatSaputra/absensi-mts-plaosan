import{r as b,G as w,j as a,x as _}from"./app-CfXFyYt-.js";import{I as l}from"./InputError-BwSQk8ub.js";import{S as c}from"./SelectOption-Cn_cSlG8.js";import{T as u}from"./TextInput-DkFgRZkL.js";import{A as N}from"./AuthenticatedLayout-QlSnEbba.js";import"./sima-DtxtMQ44.js";const S=({auth:m,guru:n,kontrakGuru:d})=>{var h=`${n.kontrak_guru}`.split(",");b.useEffect(()=>{s({nama:n.nama,nuptk:n.nuptk,jabatan:n.jabatan,status_kepegawaian:n.status_kepegawaian,alamat:n.alamat,kontrak_guru:h,no_kartu:n.no_kartu,no_wa:n.no_wa})},[]);const{data:t,setData:s,put:p,errors:r,reset:x,processing:k}=w({nama:"",nuptk:"",jabatan:"",status_kepegawaian:"",alamat:"",kontrak_guru:[],no_kartu:"",no_wa:""}),j=(e,o)=>{const i=o.hari;e.target.checked?s("kontrak_guru",[...t.kontrak_guru,i]):s("kontrak_guru",t.kontrak_guru.filter(v=>v!==i))},g=e=>{e.preventDefault(),p(route("guru.update",n.id),{onSuccess:()=>{x("nama","nuptk","jabatan","status_kepegawaian","alamat","no_kartu","no_wa"),localStorage.setItem("pag",10)}})};return a.jsx(N,{user:m,children:a.jsx("div",{className:"mx-6 grid grid-cols-1 xl:grid-cols-1 grid-rows-1 grid-flow-row-dense ",children:a.jsx("div",{className:"xl:col-span-2",children:a.jsxs("div",{className:"card h-full shadow mb-4",children:[a.jsx("div",{className:"border-b border-gray-300 px-5 py-4 mb-3",children:a.jsx("h4",{children:"Edit Guru"})}),a.jsx("div",{className:"relative overflow-x-auto mt-3 mb-4 ",children:a.jsxs("form",{className:"mx-5 grid md:w-2/5",onSubmit:g,children:[a.jsx(u,{type:"text",placeholder:"Nama",value:t.nama,onChange:e=>s("nama",e.target.value)}),a.jsx(l,{message:r.nama??"",className:"mt-2"}),a.jsx(u,{type:"number",className:"mt-3",placeholder:"NUPTK",value:t.nuptk,onChange:e=>s("nuptk",e.target.value)}),a.jsxs(c,{className:"mt-3",onChange:e=>s("jabatan",e.target.value),value:t.jabatan,children:[a.jsx("option",{value:"",children:"Pilih Jabatan"}),t.jabatan=="Kepala Madrasah"?a.jsx("option",{selected:!0,value:"Kepala Madrasah",children:"Kepala Madrasah"}):a.jsx("option",{value:"Kepala Madrasah",children:"Kepala Madrasah"}),t.jabatan=="Waka Kurikulum"?a.jsx("option",{selected:!0,value:"Waka Kurikulum",children:"Waka Kurikulum"}):a.jsx("option",{value:"Waka Kurikulum",children:"Waka Kurikulum"}),t.jabatan=="Waka Kesiswaan"?a.jsx("option",{selected:!0,value:"Waka Kesiswaan",children:"Waka Kesiswaan"}):a.jsx("option",{value:"Waka Kesiswaan",children:"Waka Kesiswaan"}),t.jabatan=="Bendahara"?a.jsx("option",{selected:!0,value:"Bendahara",children:"Bendahara"}):a.jsx("option",{value:"Bendahara",children:"Bendahara"}),t.jabatan=="Guru"?a.jsx("option",{selected:!0,value:"Guru",children:"Guru"}):a.jsx("option",{value:"Guru",children:"Guru"}),t.jabatan=="Karyawan"?a.jsx("option",{selected:!0,value:"Karyawan",children:"Karyawan"}):a.jsx("option",{value:"Karyawan",children:"Karyawan"})]}),a.jsx(l,{message:r.jabatan??"",className:"mt-2"}),a.jsxs(c,{className:"mt-3",onChange:e=>s("status_kepegawaian",e.target.value),value:t.status_kepegawaian,children:[a.jsx("option",{value:"",children:"Pilih Status Kepegawaian"}),t.status_kepegawaian=="GTY"?a.jsx("option",{selected:!0,value:"GTY",children:"GTY"}):a.jsx("option",{value:"GTY",children:"GTY"}),t.status_kepegawaian=="GTT"?a.jsx("option",{selected:!0,value:"GTT",children:"GTT"}):a.jsx("option",{value:"GTT",children:"GTT"})]}),a.jsx(l,{message:r.status_kepegawaian??"",className:"mt-2"}),a.jsx(u,{type:"text",className:"mt-3",placeholder:"Alamat",value:t.alamat,onChange:e=>s("alamat",e.target.value)}),a.jsx(l,{message:r.alamat??"",className:"mt-2"}),a.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Hari Kontrak Guru"}),a.jsx("div",{className:"flex gap-4",children:d.map((e,o)=>a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",value:e.hari,id:o,checked:t.kontrak_guru.includes(e.hari),onChange:i=>j(i,e)}),a.jsx("label",{className:"form-check-label",htmlFor:o,children:e.hari})]},o))}),a.jsx(u,{type:"text",placeholder:"No Kartu",value:t.no_kartu,onChange:e=>s("no_kartu",e.target.value),className:r.no_kartu?"":" mt-3 "}),a.jsx(l,{message:r.no_kartu??"",className:"mt-2"}),a.jsx(u,{type:"text",placeholder:"No WhatsApp",className:"mt-3",value:t.no_wa,onChange:e=>s("no_wa",e.target.value)}),a.jsx(l,{message:r.no_wa??"",className:"mt-2 mb-3"}),a.jsxs("div",{className:"flex justify-between "+(r.no_wa?"":"mt-3"),children:[a.jsx(_,{href:route("guru.index"),className:"bg-violet-300 hover:bg-violet-200 py-2 no-underline hover:text-gray-700 px-3 rounded text-black font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:k,className:"bg-blue-600 hover:bg-blue-500 py-2 no-underline hover:text-gray-700 px-3 rounded text-white font-medium ",children:"Update"})]})]})})]})})})})};export{S as default};
