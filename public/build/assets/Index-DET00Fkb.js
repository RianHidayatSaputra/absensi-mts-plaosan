import{r as a,j as t,x as w,S as H,A as p}from"./app-DnD-Lx6E.js";import{A as I}from"./AuthenticatedLayout-C8xGjflI.js";import{X as K}from"./index.es-CIHnTPsv.js";import"./sima-DtxtMQ44.js";const L=({filterText:i,onFilter:r})=>{const o=a.useRef(null);return a.useEffect(()=>{o.current&&o.current.focus()},[]),t.jsx("input",{id:"search",ref:o,type:"text",placeholder:"Filter By Name","aria-label":"Search Input",value:i,onChange:r})},D=({auth:i,kelas:r,perPage:o})=>{const[x,b]=a.useState([]),[g,h]=a.useState(r.current_page),[v,d]=a.useState(r.total),[m,k]=a.useState(o||10),[n,S]=a.useState(""),[j,y]=a.useState(n),[f,l]=a.useState(!0),u=a.useRef(null),R=r.data.filter(e=>e.nama_kelas&&e.nama_kelas.toLowerCase().includes(j.toLowerCase()));a.useEffect(()=>(u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{y(n),l(!1)},500),()=>{clearTimeout(u.current)}),[n]),a.useEffect(()=>{d(r.total)},[r]);const C=[{name:"#",cell:(e,s)=>(g-1)*m+s+1,width:"60px"},{name:"Nama Kelas",selector:e=>e.nama_kelas,cell:e=>t.jsx("div",{style:{whiteSpace:"normal",wordWrap:"break-word"},children:e.nama_kelas}),sortable:!0,width:"200px"},{name:"Aksi",cell:e=>f?t.jsx("div",{className:"animate-pulse bg-gray-300 h-4 w-32 rounded"}):t.jsx(w,{href:route("kelas.edit",e.id),className:"bg-yellow-400 hover:bg-yellow-300 text-sm no-underline hover:text-gray-900 py-1 px-2 rounded text-black font-medium ",children:"Edit"}),maxwidth:"50px"}],T=[...Array(m)].map((e,s)=>({id:`loading-${s}`,nama_kelas:t.jsx("div",{className:"animate-pulse bg-gray-300 h-4 w-24 rounded"})})),P=a.useCallback(e=>{b(e.selectedRows.map(s=>s.id))},[]),N=a.useMemo(()=>{const e=(s,c)=>{s.preventDefault(),window.confirm("Apakah kamu yakin akan menghapusnya?")&&p.get(route("kelas.destroy",[c]))};return t.jsx("button",{onClick:s=>e(s,x),className:"bg-red-400 hover:bg-red-300 no-underline hover:text-gray-900 py-1 px-2 text-md ml-3 rounded text-black font-mediums",children:"Hapus"})},[x]),A=a.useMemo(()=>t.jsx("div",{className:"w-full mb-6",children:t.jsxs("div",{className:"w-full flex justify-between",children:[t.jsx(w,{href:route("kelas.create"),className:"bg-violet-300 hover:bg-violet-200 no-underline hover:text-gray-700 pt-2 px-3 rounded text-black font-medium",children:"Tambah"}),t.jsx(L,{onFilter:e=>S(e.target.value),filterText:n})]})}),[n]),_=e=>{l(!0),p.get(route("kelas.index",{page:e,perPage:m}),{},{replace:!0,preserveState:!0,onSuccess:s=>{h(s.props.kelas.current_page),d(s.props.kelas.total),l(!1)}})},E=async(e,s)=>{k(e),l(!0),p.get(route("kelas.index",{page:s,perPage:e}),{},{replace:!0,preserveState:!0,onSuccess:c=>{h(c.props.kelas.current_page),d(c.props.kelas.total),l(!1)}})},F={rowsPerPageText:"Count Rows",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Semua"};return t.jsxs(I,{user:i,children:[t.jsx(H,{title:"Kelas"}),t.jsx("div",{className:"mx-6 grid grid-cols-1 xl:grid-cols-1 grid-rows-1 grid-flow-row-dense ",children:t.jsx("div",{className:"xl:col-span-2",children:t.jsx("div",{className:"card h-full shadow mb-4",children:t.jsx(K,{title:"Kelas",columns:C,data:f?T:R,pagination:!0,paginationServer:!0,paginationTotalRows:v,paginationDefaultPage:g,onChangePage:_,onChangeRowsPerPage:E,selectableRows:!0,contextActions:N,onSelectedRowsChange:P,responsive:!0,highlightOnHover:!0,striped:!0,subHeader:!0,subHeaderComponent:A,paginationComponentOptions:F})})})})]})};export{D as default};
