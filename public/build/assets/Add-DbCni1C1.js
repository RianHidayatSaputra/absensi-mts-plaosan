import{r as d,j as e,G as b,S as p,x as g}from"./app-NUb6NQg-.js";import{I as u}from"./InputError-BTJGKyJ4.js";import{S as j}from"./SelectOption-rORhdt3R.js";import{T as h}from"./TextInput-6iaJARMZ.js";import{A as w}from"./AuthenticatedLayout-DncdzVuS.js";import"./sima-DtxtMQ44.js";const v=({siswa:c,onChange:m,error:t})=>{const[s,i]=d.useState(""),[r,l]=d.useState(!1),n=d.useRef(null),o=c.filter(a=>a.nama_siswa.toLowerCase().includes(s.toLowerCase()));return d.useEffect(()=>{const a=x=>{n.current&&!n.current.contains(x.target)&&l(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),e.jsxs("div",{className:"relative",ref:n,children:[e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none",placeholder:"Cari siswa...",value:s,onChange:a=>i(a.target.value),onFocus:()=>l(!0)}),r&&e.jsx("ul",{className:"absolute z-10 bg-white border border-gray-300 rounded-md mt-1 w-full max-h-40 overflow-y-auto shadow-md",children:o.length>0?o.map(a=>e.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{m(a.id),i(a.nama_siswa),l(!1)},children:a.nama_siswa},a.id)):e.jsx("li",{className:"px-3 py-2 text-gray-500",children:"Tidak ditemukan"})}),t&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:t})]})},C=({auth:c,siswa:m})=>{const{data:t,setData:s,post:i,errors:r,reset:l,processing:n}=b({id_siswa:"",absen_masuk:"",absen_pulang:"",status:"",created_at:""}),o=a=>{a.preventDefault(),i(route("rekap-siswa.store"),{onSuccess:()=>l("id_siswa","absen_masuk","absen_pulang","status","created_at")})};return e.jsxs(w,{user:c,children:[e.jsx(p,{title:"Absen Siswa Manual"}),e.jsx("div",{className:"mx-6 grid grid-cols-1 xl:grid-cols-1 grid-rows-1 grid-flow-row-dense ",children:e.jsx("div",{className:"xl:col-span-2",children:e.jsxs("div",{className:"card h-full shadow mb-4",children:[e.jsx("div",{className:"border-b border-gray-300 px-5 py-4 mb-3",children:e.jsx("h4",{children:"Tambah Absen Manual"})}),e.jsx("div",{className:"relative overflow-x-auto mt-3 mb-4 ",children:e.jsxs("form",{className:"mx-5 grid md:w-2/5",onSubmit:o,children:[e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Siswa"}),e.jsx(v,{siswa:m,onChange:a=>s("id_siswa",a)}),e.jsx(u,{message:r.id_siswa??"",className:"mt-2"}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Absen Masuk"}),e.jsx(h,{type:"time",placeholder:"Absen Masuk",value:t.absen_masuk,onChange:a=>s("absen_masuk",a.target.value)}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Absen Pulang"}),e.jsx(h,{type:"time",placeholder:"Absen Pulang",value:t.absen_pulang,onChange:a=>s("absen_pulang",a.target.value)}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Status"}),e.jsxs(j,{onChange:a=>s("status",a.target.value),defaultValue:"",children:[e.jsx("option",{value:"",children:"Pilih Status Absen"}),e.jsx("option",{value:"Belum Hadir",children:"Belum Hadir"}),e.jsx("option",{value:"Belum Hadir dan Terlambat",children:"Belum Hadir dan Terlambat"}),e.jsx("option",{value:"Hadir",children:"Hadir"}),e.jsx("option",{value:"Hadir tapi Terlambat",children:"Hadir tapi Terlambat"}),e.jsx("option",{value:"Tidak Hadir",children:"Tidak Hadir"}),e.jsx("option",{value:"Izin",children:"Izin"}),e.jsx("option",{value:"Sakit",children:"Sakit"})]}),e.jsx(u,{message:r.status??"",className:"mt-2 mb-4"}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Tanggal"}),e.jsx(h,{type:"date",placeholder:"Tanggal",value:t.created_at,onChange:a=>s("created_at",a.target.value)}),e.jsx(u,{message:r.created_at??"",className:"mt-2 mb-4"}),e.jsxs("div",{className:"flex justify-between "+(r.created_at?"":"mt-3"),children:[e.jsx(g,{href:route("rekap-guru.index"),className:"bg-violet-300 hover:bg-violet-200 py-2 no-underline hover:text-gray-700 px-3 rounded text-black font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-500 py-2 no-underline hover:text-gray-700 px-3 rounded text-white font-medium ",children:"Submit"})]})]})})]})})})]})};export{C as default};
