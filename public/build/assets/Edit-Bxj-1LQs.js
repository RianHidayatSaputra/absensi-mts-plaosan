import{r as j,G as v,j as e,x as g}from"./app-DnD-Lx6E.js";import{I as i}from"./InputError-8EpQ2rJa.js";import{S as d}from"./SelectOption-BuWM9_5_.js";import{T as m}from"./TextInput-DciK4BJh.js";import{A as w}from"./AuthenticatedLayout-C8xGjflI.js";import"./sima-DtxtMQ44.js";const E=({auth:u,user:r,gurus:o})=>{j.useEffect(()=>{l({name:r.name,email:r.email,password:r.password,role:r.role})},[]);const{data:s,setData:l,put:c,errors:n,reset:p,processing:h}=v({name:"",email:"",password:"",role:""}),x=a=>{a.preventDefault(),c(route("user.update",r.id),{onSuccess:()=>{p("name","email","password","role"),localStorage.setItem("pag",10)}})};return e.jsx(w,{user:u,children:e.jsx("div",{className:"mx-6 grid grid-cols-1 xl:grid-cols-1 grid-rows-1 grid-flow-row-dense ",children:e.jsx("div",{className:"xl:col-span-2",children:e.jsxs("div",{className:"card h-full shadow mb-4",children:[e.jsx("div",{className:"border-b border-gray-300 px-5 py-4 mb-3",children:e.jsx("h4",{children:"Edit User"})}),e.jsx("div",{className:"relative overflow-x-auto mt-3 mb-4 ",children:e.jsxs("form",{className:"mx-5 grid md:w-2/5",onSubmit:x,children:[e.jsxs(d,{className:"mt-3",onChange:a=>l("name",a.target.value),value:s.name,children:[e.jsx("option",{value:"",children:"Pilih Nama"}),s.name=="admin"?e.jsxs(e.Fragment,{children:[e.jsx("option",{selected:!0,value:"admin",children:"Admin"}),o.map((a,t)=>e.jsx("option",{value:a.nama,children:a.nama},t))]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"admin",children:"Admin"}),o.map((a,t)=>e.jsx("option",{value:a.nama,children:a.nama}))]}),o.map((a,t)=>{s.name==a.nama?(a.nama,a.nama):(a.nama,a.nama)})]}),e.jsx(i,{message:n.name??"",className:"mt-2 mb-3"}),e.jsx(m,{type:"email",placeholder:"Email",className:"mt-3",value:s.email,onChange:a=>l("email",a.target.value)}),e.jsx(i,{message:n.email??"",className:"mt-2 mb-3"}),e.jsx(m,{type:"password",placeholder:"Password",value:s.password,onChange:a=>l("password",a.target.value),className:"mt-3"}),e.jsx(i,{message:n.password??"",className:"mt-2"}),e.jsxs(d,{className:"mt-3",onChange:a=>l("role",a.target.value),value:s.role,children:[e.jsx("option",{value:"",children:"Pilih Role"}),s.role=="admin"?e.jsx("option",{selected:!0,value:"admin",children:"Admin"}):e.jsx("option",{value:"admin",children:"Admin"}),s.role=="kepala madrasah"?e.jsx("option",{selected:!0,value:"kepala madrasah",children:"Kepala Madrasah"}):e.jsx("option",{value:"kepala madrasah",children:"Kepala Madrasah"}),s.role=="kurikulum"?e.jsx("option",{selected:!0,value:"kurikulum",children:"Kurikulum"}):e.jsx("option",{value:"kurikulum",children:"Kurikulum"}),s.role=="kesiswaan"?e.jsx("option",{selected:!0,value:"kesiswaan",children:"Kesiswaan"}):e.jsx("option",{value:"kesiswaan",children:"Kesiswaan"}),s.role=="bendahara"?e.jsx("option",{selected:!0,value:"bendahara",children:"Bendahara"}):e.jsx("option",{value:"bendahara",children:"Bendahara"}),s.role=="guru"?e.jsx("option",{selected:!0,value:"guru",children:"Guru"}):e.jsx("option",{value:"guru",children:"Guru"}),s.role=="karyawan"?e.jsx("option",{selected:!0,value:"karyawan",children:"Karyawan"}):e.jsx("option",{value:"karyawan",children:"Karyawan"})]}),e.jsx(i,{message:n.role??"",className:"mt-2 mb-3"}),e.jsxs("div",{className:"flex justify-between "+(n.role?"":"mt-4"),children:[e.jsx(g,{href:route("user.index"),className:"bg-violet-300 hover:bg-violet-200 py-2 no-underline hover:text-gray-700 px-3 rounded text-black font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h,className:"bg-blue-600 hover:bg-blue-500 py-2 no-underline hover:text-gray-700 px-3 rounded text-white font-medium ",children:"Update"})]})]})})]})})})})};export{E as default};
