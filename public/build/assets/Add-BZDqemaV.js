import{r as d,j as e,G as b,S as p,x as g}from"./app-CfXFyYt-.js";import{I as m}from"./InputError-BwSQk8ub.js";import{S as j}from"./SelectOption-Cn_cSlG8.js";import{T as h}from"./TextInput-DkFgRZkL.js";import{A as v}from"./AuthenticatedLayout-QlSnEbba.js";import"./sima-DtxtMQ44.js";const f=({guru:u,onChange:c,error:s})=>{const[t,i]=d.useState(""),[r,l]=d.useState(!1),n=d.useRef(null),o=u.filter(a=>a.nama.toLowerCase().includes(t.toLowerCase()));return d.useEffect(()=>{const a=x=>{n.current&&!n.current.contains(x.target)&&l(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),e.jsxs("div",{className:"relative",ref:n,children:[e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none",placeholder:"Cari guru...",value:t,onChange:a=>i(a.target.value),onFocus:()=>l(!0)}),r&&e.jsx("ul",{className:"absolute z-10 bg-white border border-gray-300 rounded-md mt-1 w-full max-h-40 overflow-y-auto shadow-md",children:o.length>0?o.map(a=>e.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{c(a.id),i(a.nama),l(!1)},children:a.nama},a.id)):e.jsx("li",{className:"px-3 py-2 text-gray-500",children:"Tidak ditemukan"})}),s&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s})]})},C=({auth:u,guru:c})=>{const{data:s,setData:t,post:i,errors:r,reset:l,processing:n}=b({id_guru:"",absen_masuk:"",absen_pulang:"",status:"",created_at:""}),o=a=>{a.preventDefault(),i(route("rekap-guru.store"),{onSuccess:()=>l("id_guru","absen_masuk","absen_pulang","status","created_at")})};return e.jsxs(v,{user:u,children:[e.jsx(p,{title:"Absen Guru Manual"}),e.jsx("div",{className:"mx-6 grid grid-cols-1 xl:grid-cols-1 grid-rows-1 grid-flow-row-dense ",children:e.jsx("div",{className:"xl:col-span-2",children:e.jsxs("div",{className:"card h-full shadow mb-4",children:[e.jsx("div",{className:"border-b border-gray-300 px-5 py-4 mb-3",children:e.jsx("h4",{children:"Tambah Absen Manual"})}),e.jsx("div",{className:"relative overflow-x-auto mt-3 mb-4 ",children:e.jsxs("form",{className:"mx-5 grid md:w-2/5",onSubmit:o,children:[e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Guru"}),e.jsx(f,{guru:c,onChange:a=>t("id_guru",a)}),e.jsx(m,{message:r.id_guru??"",className:"mt-2"}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Absen Masuk"}),e.jsx(h,{type:"time",placeholder:"Absen Masuk",value:s.absen_masuk,onChange:a=>t("absen_masuk",a.target.value)}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Absen Pulang"}),e.jsx(h,{type:"time",placeholder:"Absen Pulang",value:s.absen_pulang,onChange:a=>t("absen_pulang",a.target.value)}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Status"}),e.jsxs(j,{onChange:a=>t("status",a.target.value),defaultValue:"",children:[e.jsx("option",{value:"",children:"Pilih Status Absen"}),e.jsx("option",{value:"Belum Hadir",children:"Belum Hadir"}),e.jsx("option",{value:"Belum Hadir dan Terlambat",children:"Belum Hadir dan Terlambat"}),e.jsx("option",{value:"Hadir",children:"Hadir"}),e.jsx("option",{value:"Hadir tapi Terlambat",children:"Hadir tapi Terlambat"}),e.jsx("option",{value:"Tidak Hadir",children:"Tidak Hadir"}),e.jsx("option",{value:"Izin",children:"Izin"}),e.jsx("option",{value:"Sakit",children:"Sakit"})]}),e.jsx(m,{message:r.status??"",className:"mt-2 mb-4"}),e.jsx("label",{htmlFor:"withLabel",className:"mb-1 block text-gray-600 mt-3",children:"Tanggal"}),e.jsx(h,{type:"date",placeholder:"Tanggal",value:s.created_at,onChange:a=>t("created_at",a.target.value)}),e.jsx(m,{message:r.created_at??"",className:"mt-2 mb-4"}),e.jsxs("div",{className:"flex justify-between "+(r.created_at?"":"mt-3"),children:[e.jsx(g,{href:route("rekap-guru.index"),className:"bg-violet-300 hover:bg-violet-200 py-2 no-underline hover:text-gray-700 px-3 rounded text-black font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-500 py-2 no-underline hover:text-gray-700 px-3 rounded text-white font-medium ",children:"Submit"})]})]})})]})})})]})};export{C as default};
