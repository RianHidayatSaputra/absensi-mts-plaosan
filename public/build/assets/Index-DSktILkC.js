import{r as t,j as s,x as E,S as H,A as p}from"./app-CfXFyYt-.js";import{A as I}from"./AuthenticatedLayout-QlSnEbba.js";import{X as K}from"./index.es-EoOjpoTx.js";import"./sima-DtxtMQ44.js";const L=({filterText:i,onFilter:r})=>{const o=t.useRef(null);return t.useEffect(()=>{o.current&&o.current.focus()},[]),s.jsx("input",{id:"search",ref:o,type:"text",placeholder:"Filter By Name","aria-label":"Search Input",value:i,onChange:r})},D=({auth:i,kelas:r,perPage:o})=>{const[g,f]=t.useState([]),[x,h]=t.useState(r.current_page),[w,d]=t.useState(r.total),[m,b]=t.useState(o||10),[n,S]=t.useState(""),[v,k]=t.useState(n),[R,l]=t.useState(!0),u=t.useRef(null),j=r.data.filter(e=>e.nama_kelas&&e.nama_kelas.toLowerCase().includes(v.toLowerCase()));t.useEffect(()=>(u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{k(n),l(!1)},500),()=>{clearTimeout(u.current)}),[n]),t.useEffect(()=>{d(r.total)},[r]);const C=[{name:"#",cell:(e,a)=>(x-1)*m+a+1,maxwidth:"50px"},{name:"Nama Kelas",selector:e=>e.nama_kelas,cell:e=>s.jsx("div",{style:{whiteSpace:"normal",wordWrap:"break-word"},children:e.nama_kelas}),sortable:!0,width:"200px"}],y=[...Array(m)].map((e,a)=>({id:`loading-${a}`,nama_kelas:s.jsx("div",{className:"animate-pulse bg-gray-300 h-4 w-24 rounded"})})),T=t.useCallback(e=>{f(e.selectedRows.map(a=>a.id))},[]),P=t.useMemo(()=>{const e=(a,c)=>{a.preventDefault(),window.confirm("Apakah kamu yakin akan menghapusnya?")&&p.get(route("kelas.destroy",[c]))};return s.jsx("button",{onClick:a=>e(a,g),className:"bg-red-400 hover:bg-red-300 no-underline hover:text-gray-900 py-1 px-2 text-md ml-3 rounded text-black font-mediums",children:"Hapus"})},[g]),N=t.useMemo(()=>s.jsx("div",{className:"w-full mb-6",children:s.jsxs("div",{className:"w-full flex justify-between",children:[s.jsx(E,{href:route("kelas.create"),className:"bg-violet-300 hover:bg-violet-200 no-underline hover:text-gray-700 pt-2 px-3 rounded text-black font-medium",children:"Tambah"}),s.jsx(L,{onFilter:e=>S(e.target.value),filterText:n})]})}),[n]),A=e=>{l(!0),p.get(route("kelas.index",{page:e,perPage:m}),{},{replace:!0,preserveState:!0,onSuccess:a=>{h(a.props.kelas.current_page),d(a.props.kelas.total),l(!1)}})},_=async(e,a)=>{b(e),l(!0),p.get(route("kelas.index",{page:a,perPage:e}),{},{replace:!0,preserveState:!0,onSuccess:c=>{h(c.props.kelas.current_page),d(c.props.kelas.total),l(!1)}})},F={rowsPerPageText:"Count Rows",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Semua"};return s.jsxs(I,{user:i,children:[s.jsx(H,{title:"Kelas"}),s.jsx("div",{className:"mx-6 grid grid-cols-1 xl:grid-cols-1 grid-rows-1 grid-flow-row-dense ",children:s.jsx("div",{className:"xl:col-span-2",children:s.jsx("div",{className:"card h-full shadow mb-4",children:s.jsx(K,{title:"Kelas",columns:C,data:R?y:j,pagination:!0,paginationServer:!0,paginationTotalRows:w,paginationDefaultPage:x,onChangePage:A,onChangeRowsPerPage:_,selectableRows:!0,contextActions:P,onSelectedRowsChange:T,responsive:!0,highlightOnHover:!0,striped:!0,subHeader:!0,subHeaderComponent:N,paginationComponentOptions:F})})})})]})};export{D as default};
